---
layout: default
title: gRPC API
order: 5
permalink: /docs/api-grpc/
has_children: true
---

# gRPC

gRPC is the first-class-api of machbase, any program language that support gRPC can utilize it's full functionalities.

{: .warning }
> Since gRPC interface provides low level api, it is very critical that  client program should properly use them. In any cases of mis-uses, it may lead machbase not to work properly.


## Machbase Service

### Exec

`Exec` execute query which doesn't require result set.
It is suitable to execute queries that doesn't return any record but success or failure,
for example `create table...`, `drop table...`.

- Request `ExecRequest`

| Field  | Type         | Desc                 |
|:-------|:-------------|:---------------------|
| sql    | string       | sql query text       |
| params | array of any | query bind variables |

- Rsponse `ExecResponse`

| Field  | Type         | Desc                             |
|:-------|:-------------|:---------------------------------|
| succes | bool         | `true` success, `false` error    |
| reason | string       | response message                 |
| elapse | string       | string to represent elapse time  |

### QueryRow

`QueryRow` execute a query which returns result in a row.
It is suitable to execute queries that retrieve single record, for example `select count(*) from...`, `select col1,col2 from table where id=?`.
If the query returns multiple records, only the first record will be retrieved.

- Request `QueryRowRequest`

| Field  | Type         | Desc                 |
|:-------|:-------------|:---------------------|
| sql    | string       | sql query text       |
| params | array of any | query bind variables |

- Response `QueryRowResponse`

| Field  | Type         | Desc                             |
|:-------|:-------------|:---------------------------------|
| succes | bool         | `true` success, `false` error    |
| reason | string       | response message                 |
| elapse | string       | string to represent elapse time  |
| values | array of any | column values of the first row   |

### Query

Generally an application retrieves multiple records after executing a query through for-loop.

`Query` returns result handle as result of execution, then applicatoin can fetch all records with the handle by loop.

- Request `QueryRequest`

- Response `QueryResponse`

