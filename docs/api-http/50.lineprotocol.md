---
layout: default
parent: HTTP API
title: InfluxDB Line Protocol
nav_order: 50
permalink: /docs/api-http/lineprotocol
has_children: false
---


### write via http lineprotocol

Machbase also provides a compatibility api that accepts influxdata lineprotocol message format to insert data.
This api is convenient way to write data from lineprotocol clients (e.g telegraf)

> Since Machbase has different scheme from influxdb, some translations will be automatically occurred.
    
- Translation

| Machbase            | influxdb                                    |
| ------------------- | ------------------------------------------- |
| table name          | db                                          |
| tag name            | measurement + '.' + field name              |
| time                | timestamp                                   |
| value               | value of the field (if it is not a number type, will be ignored and not inserted) |

- curl
    ```sh
    curl -o - -X POST "http://127.0.0.1:4058/metrics/write?db=tagdata" --data-binary 'my-car speed=87.6 167038034500000'
    ```
    > This example inserts data into table `tagdata` with `name`='my-car.speed', `value`=87.6 and `time`=167038034500000

- telegraf.conf example

    ```
    [[outputs.http]]
    url = "http://127.0.0.1:4058/metrics/write?db=tagdata"
    data_format = "influx"
    content_encoding = "gzip"
    ```
